// ğŸ”¸ Platform: LeetCode
// ğŸ”¸ Problem: 904. Fruit Into Baskets
// ğŸ”¹ Difficulty: Medium
// ğŸ”— Link: https://leetcode.com/problems/fruit-into-baskets/
// ğŸ§  Solved by: Akshay Kapse | 50-Day DSA Challenge (Day 14)
// ğŸ“… Date: 2025-09-08
// ğŸ§‘â€ğŸ’» Language: JavaScript

/**
 * @param {number[]} fruits
 * @return {number}
 */
var totalFruit = function (fruits) {
    if (fruits.length <= 2) return fruits.length;

    let prev1 = -1, prev2 = -1;
    let prev2count = 0;
    let currlen = 0;
    let max = 0;

    for (let i = 0; i < fruits.length; i++) {
        let fruit = fruits[i];

        if (fruit === prev1 || fruit === prev2) {
            currlen++;
        } else {
            currlen = prev2count + 1;
        }

        if (fruit === prev2) {
            prev2count++;
        } else {
            prev1 = prev2;
            prev2 = fruit;
            prev2count = 1;
        }

        max = Math.max(max, currlen);
    }

    return max;
};
